#!/usr/bin/env python
# -*- coding: utf-8 -*-

# AMIU copyleft 2023
# Roberto Marzocchi

'''


'''

#from msilib import type_short
import os, sys, re  # ,shutil,glob
import inspect


currentdir = os.path.dirname(os.path.realpath(__file__))
parentdir = os.path.dirname(currentdir)
sys.path.append(parentdir)
from credenziali import *



# per mandare file a EKOVISION
import pysftp


#import requests

import logging

from datetime import *




giorno_file=datetime.today().strftime('%Y%m%d_%H%M%S')

filename = inspect.getframeinfo(inspect.currentframe()).filename
path=os.path.dirname(sys.argv[0]) 
path1 = os.path.dirname(os.path.dirname(os.path.abspath(filename)))
nome=os.path.basename(__file__).replace('.py','')
#tmpfolder=tempfile.gettempdir() # get the current temporary directory
logfile='{0}/log/{2}_{1}.log'.format(path,nome,giorno_file)
errorfile='{0}/log/{2}_error_{1}.log'.format(path,nome,giorno_file)
#if os.path.exists(logfile):
#    os.remove(logfile)


# Create a custom logger
logging.basicConfig(
    level=logging.DEBUG,
    handlers=[
    ]
)

logger = logging.getLogger()

# Create handlers
c_handler = logging.FileHandler(filename=errorfile, encoding='utf-8', mode='w')
#f_handler = logging.StreamHandler()
f_handler = logging.FileHandler(filename=logfile, encoding='utf-8', mode='w')


c_handler.setLevel(logging.ERROR)
f_handler.setLevel(logging.DEBUG)


# Add handlers to the logger
logger.addHandler(c_handler)
logger.addHandler(f_handler)


cc_format = logging.Formatter('%(asctime)s\t%(levelname)s\t%(message)s')

c_handler.setFormatter(cc_format)
f_handler.setFormatter(cc_format)


def main ():
    
    
    spunte_colorate=[
'0101032103','0101042102','0101360602','0101360001','0101360502','0101360802','0101360903','0101362801','0101362903','0101363201','0101390601','0104003501','0101367601','0112003902','0112004002','0112004102','0112004202','0112005001','0101368301','0500102102','0500103101','0500105503','0500107202','0500107702','0500113401','0500115301','0500116501','0500117001','0500122202','0500123301','0500124402','0500124702','0500124903','0500125103','0500130802','0501015901','0501018202','0502002703','0502006102','0502043501','0502043602','0502043703','0502044102','0506003502','0506003902','0507001801','0507004701','0507110301','0507115501','0507125401','0507126202','0507126302','0507126401','0507129603','0507132603','0507132703','0507135001','0507136602','0507136902','0508040501','0508041101','0508058901','0508064202','0508070801','0508070901','0508072401','0508074401','0508075401','0101010601','0500113301','0101011301','0101383901','0500101002','0500113101','0500114701','0500115501','0500115701','0500115901','0500120501','0500129603','0501005201','0501007102','0501007501','0501019201','0501019601','0501020901','0502004002','0506003001','0506003302','0506003702','0506003801','0507002202','0507003501','0507107402','0507113901','0507134901','0508053702','0508057201','0508061401','0508063902','0508071501','0508071802','0508071901','0508072001','0508072201','0508075602','0508075702','0500131903','0101365501','0101033703','0101389901','0500116101','0500117501','0500117601','0501003002','0501003102','0501009001','0501018301','0506003401','0507114801','0507115301','0507118401','0507119702','0507136402','0508039303','0508048701','0508063203','0508063303','0508071001','0101384001','0112001501','0112004302','0502006402','0506003102','0506003201','0507106202','0507118502','0101369301','0508074802','0508075202','0508076002','0500124001','0502007602','0508074702','0101361502','0101361001','0101390202','0101361602','0101344501','0507130801','0508061701','0508061801','0101364301','0101044402','0101375601','0101377901','0101385701','0500107502','0502004401','0502007103','0507137601','0101040201','0507108701','0101032603','0501020002','0501017602','0501019401','0501019301','0501019802','0508074601','0501002901','0101389001','0101392701','0501019501','0506004402','0506004502','0506007102','0101363501','0506004602','0101353301','0101389101','0506003601','0500126701','0506006902','0507127702','0101382503','0502006601','0506005401','0501014409','0501018002','0507109701','0500003701','0500119401','0501017101','0506004201','0501016701','0501016601','0508046003','0500132301','0501018701','0501019902','0508055802','0101354603','0500127903','0500128003','0500128101','0500127803','0101000401','0508074501','0507133401','0101032903','0508062103','0508062003','0101012102','0101031803','0101390501','0101391001','0101391501','0104003401','0112003602','0112003702','0112003802','0112004402','0112004502','0112004802','0112004902','0101033901','0500105403','0500107802','0500108002','0500108102','0101350401','0101350501','0506004001','0506004101','0506005502','0101034101','0507134301','0508035701','0101034503','0101038501','0112003401','0500108602','0501018401','0508050102','0101340401','0501020602','0506008502','0508039203','0508057302','0101040101','0101390901','0501010409','0501017702','0101350803','0101370801','0501016901','0508074301','0101033502','0501017001','0506008201','0101382603','0501019702','0101039801','0506006601']
    
    
    componenti_un_giorno_e_doppi=[
        '0101000301','0101007101','0101032103','0101034101','0101040703','0101042102','0101359802','0101361301','0101361401','0101362801','0101363103','0101363501','0101363801','0101366801','0101366901','0101370001','0101378603','0101379102','0101381203','0101383601','0101387809','0101387909','0101388009','0101388409','0101392301','0102008201','0111003703','0111003903','0111007703','0111008902','0201255901','0201257601','0203008701','0213251002','0500003701','0500100302','0500103101','0500106301','0500121703','0500121803','0500122603','0500124302','0500125103','0500125302','0500126202','0500131903','0500132502','0500132702','0501008301','0501009101','0501010409','0501011309','0501014209','0501016801','0501018801','0501019401','0501020101','0501021501','0502002603','0502002703','0502041001','0503001601','0506006501','0507001801','0507002702','0507106202','0507107402','0507109402','0507113901','0507120201','0507128501','0507128903','0507129603','0507130103','0507130201','0507134301','0507134401','0507137901','0508035701','0508054201','0508060701','0508069809','0508071901','0508072301','0508072401','0508072801','0508073102','0508073401','0508076801','0508077903'
        , '0101350901',
        '0508072201',
        '0507002202',
        '0501017602',
        '0501019902',
        '0508040501',
        '0508039303',
        '0508074802'
    ]
    
    c = list(set(spunte_colorate) - set(componenti_un_giorno_e_doppi))
    
    print(len(spunte_colorate))
    print(len(c))
    
    comune=list(set(spunte_colorate) - set(c))
    print(comune)
    
if __name__ == "__main__":
    main()     